(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4381],{72079:function(e,s,t){Promise.resolve().then(t.bind(t,44274))},44274:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return E}});var r=t(57437),n=t(575),i=t(81291),a=t(24033),c=t(38110),l=t(95268),o=t(61865),d=t(949),m=t(86264),x=t(12647),p=t(18641),g=t(22169),h=t(22782),f=t(3549),u=t(24930),j=t.n(u),N=t(2265),v=t(2903),b=t(38655),y=t(14803);let w=j()(()=>Promise.all([t.e(9041),t.e(7093),t.e(7429)]).then(t.bind(t,78366)),{loadableGenerated:{webpack:()=>[78366]},ssr:!1});function I(){var e;let s=(0,l.yy)(!1),[t,i]=(0,d.Z)(),a=(0,b.Z)(),u=(0,y.Z)(),{register:j,handleSubmit:I,control:_,formState:{errors:S},reset:k,watch:C}=(0,o.cI)({resolver:(0,c.F)(v.m),defaultValues:{categoryId:"",title:"",description:"",content:""}}),F=C("categoryId"),E=C("title"),D=C("content"),A=async e=>{s.set(!0),await i.createArticle({...e,date:BigInt(Date.now())*BigInt(1e6)}),s.set(!1)};return(0,N.useEffect)(()=>{i.getData(d.V.CATEGORIES)},[]),(0,r.jsxs)("form",{onSubmit:I(A),className:"mt-8 font-poppins",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"New Article"}),(0,r.jsx)("p",{className:"text-gray-500 pt-1",children:"Fill in the form to create a new article"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid items-center gap-1.5",children:[(0,r.jsx)(x._,{htmlFor:"categoryId",className:"font-normal pb-1",children:"Category"}),(0,r.jsx)(o.Qr,{control:_,name:"categoryId",render:e=>{let{field:{onChange:s,onBlur:n,value:i,ref:a}}=e;return(0,r.jsxs)(p.Ph,{onValueChange:s,defaultValue:i,children:[(0,r.jsx)(p.i4,{className:(0,g.cn)("focus:ring-[#3b82f680]",S.categoryId&&"border-red-500 focus:ring-2 focus:ring-red-500 focus:ring-offset-2"),children:(0,r.jsx)(p.ki,{placeholder:"Select user category"})}),(0,r.jsx)(p.Bw,{children:(0,r.jsx)(p.DI,{children:t.contents.categories.map(e=>(0,r.jsx)(p.Ql,{value:e.id,children:e.name},e.id))})})]})}}),S.categoryId&&(0,r.jsx)("p",{className:"form-error",children:"".concat(S.categoryId.message)})]}),(0,r.jsxs)("div",{className:"grid items-center gap-1.5",children:[(0,r.jsx)(x._,{htmlFor:"title",className:"font-normal pb-1",children:"Title"}),(0,r.jsx)(h.II,{...j("title"),className:(0,g.cn)("focus-visible:ring-primary",S.title&&"border-red-500 focus-visible:ring-red-500"),type:"text",placeholder:"Enter Title"}),S.title&&(0,r.jsx)("p",{className:"form-error",children:"".concat(S.title.message)})]}),(0,r.jsxs)("div",{className:"grid items-center gap-1.5",children:[(0,r.jsx)(x._,{htmlFor:"description",className:"font-normal pb-1",children:"Description"}),(0,r.jsx)(f.g,{...j("description"),className:(0,g.cn)("focus-visible:ring-primary",S.description&&"border-red-500 focus-visible:ring-red-500"),placeholder:"Enter Description"}),S.description&&(0,r.jsx)("p",{className:"form-error",children:"".concat(S.description.message)})]}),(0,r.jsxs)("div",{className:"grid items-center gap-1.5",children:[(0,r.jsx)(x._,{htmlFor:"content",className:"font-normal pb-1",children:"Content"}),(0,r.jsx)(o.Qr,{control:_,name:"content",render:e=>{let{field:{onChange:s,onBlur:t,value:n,ref:i}}=e;return(0,r.jsx)(w,{data:n,onChange:s})}}),S.content&&(0,r.jsx)("p",{className:"form-error",children:"".concat(S.content.message)})]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(x._,{htmlFor:"",className:"font-normal pb-1",children:"Content Preview"}),(0,r.jsxs)("div",{className:"flex-1 bg-white rounded-lg p-6 mt-2",children:[(0,r.jsx)("div",{className:"text-center font-black uppercase text-sm tracking-widest text-icp-yellow",children:null===(e=t.contents.categories.find(e=>e.id===F))||void 0===e?void 0:e.name}),(0,r.jsx)("div",{className:"pt-3 mx-auto text-center max-w-2xl",children:(0,r.jsx)("h1",{className:"text-2xl font-bold",children:E})}),(0,r.jsxs)("div",{className:"text-gray-500 pt-6 flex justify-center items-center gap-2 uppercase font-medium text-sm tracking-wider",children:[(0,r.jsx)("div",{children:"".concat(new Date().toLocaleString("en-US",{timeZone:"Asia/Manila",year:"numeric",month:"short",day:"2-digit"}))}),(0,r.jsx)("div",{children:" • "}),(0,r.jsx)("div",{children:"".concat(a.calculate(u.convert(D))," min read")})]}),(0,r.jsx)("div",{className:(0,g.cn)("prose max-w-none mt-8","prose-figcaption:text-center","prose-figure:flex prose-figure:flex-col prose-figure:items-center","prose-img:object-cover"),dangerouslySetInnerHTML:{__html:D}})]})]})]}),(0,r.jsx)("div",{className:"pt-6 flex gap-2 justify-end",children:(0,r.jsx)(n.z,{className:"px-12",type:"submit",disabled:s.value,children:s.value?(0,r.jsx)(m.Z,{className:"w-4 h-4 animate-spin"}):"Submit"})})]})}var _=t(87009),S=t(86441),k=t(28216);let C=j()(()=>Promise.all([t.e(9041),t.e(7093),t.e(7429)]).then(t.bind(t,78366)),{loadableGenerated:{webpack:()=>[78366]},ssr:!1});function F(){var e;let s=(0,l.yy)(!1),[t,i]=(0,k.Z)(),a=(0,b.Z)(),u=(0,y.Z)(),{register:j,handleSubmit:v,control:w,formState:{errors:I},reset:_,watch:F}=(0,o.cI)({resolver:(0,c.F)(S.m),defaultValues:{categoryId:"",title:"",description:"",content:""}}),E=F("categoryId"),D=F("title"),A=F("content"),Z=async e=>{s.set(!0),await i.createArticle({...e,date:BigInt(Date.now())*BigInt(1e6)}),s.set(!1)};return(0,N.useEffect)(()=>{i.getData(d.V.CATEGORIES)},[]),(0,r.jsxs)("form",{onSubmit:v(Z),className:"mt-8 font-poppins",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"New Article"}),(0,r.jsx)("p",{className:"text-gray-500 pt-1",children:"Fill in the form to create a new article"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid items-center gap-1.5",children:[(0,r.jsx)(x._,{htmlFor:"categoryId",className:"font-normal pb-1",children:"Category"}),(0,r.jsx)(o.Qr,{control:w,name:"categoryId",render:e=>{let{field:{onChange:s,onBlur:n,value:i,ref:a}}=e;return(0,r.jsxs)(p.Ph,{onValueChange:s,defaultValue:i,children:[(0,r.jsx)(p.i4,{className:(0,g.cn)("focus:ring-[#3b82f680]",I.categoryId&&"border-red-500 focus:ring-2 focus:ring-red-500 focus:ring-offset-2"),children:(0,r.jsx)(p.ki,{placeholder:"Select user category"})}),(0,r.jsx)(p.Bw,{children:(0,r.jsx)(p.DI,{children:t.contents.categories.map(e=>(0,r.jsx)(p.Ql,{value:e.id,children:e.name},e.id))})})]})}}),I.categoryId&&(0,r.jsx)("p",{className:"form-error",children:"".concat(I.categoryId.message)})]}),(0,r.jsxs)("div",{className:"grid items-center gap-1.5",children:[(0,r.jsx)(x._,{htmlFor:"title",className:"font-normal pb-1",children:"Title"}),(0,r.jsx)(h.II,{...j("title"),className:(0,g.cn)("focus-visible:ring-primary",I.title&&"border-red-500 focus-visible:ring-red-500"),type:"text",placeholder:"Enter Title"}),I.title&&(0,r.jsx)("p",{className:"form-error",children:"".concat(I.title.message)})]}),(0,r.jsxs)("div",{className:"grid items-center gap-1.5",children:[(0,r.jsx)(x._,{htmlFor:"description",className:"font-normal pb-1",children:"Description"}),(0,r.jsx)(f.g,{...j("description"),className:(0,g.cn)("focus-visible:ring-primary",I.description&&"border-red-500 focus-visible:ring-red-500"),placeholder:"Enter Description"}),I.description&&(0,r.jsx)("p",{className:"form-error",children:"".concat(I.description.message)})]}),(0,r.jsxs)("div",{className:"grid items-center gap-1.5",children:[(0,r.jsx)(x._,{htmlFor:"content",className:"font-normal pb-1",children:"Content"}),(0,r.jsx)(o.Qr,{control:w,name:"content",render:e=>{let{field:{onChange:s,onBlur:t,value:n,ref:i}}=e;return(0,r.jsx)(C,{data:n,onChange:s})}}),I.content&&(0,r.jsx)("p",{className:"form-error",children:"".concat(I.content.message)})]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(x._,{htmlFor:"",className:"font-normal pb-1",children:"Content Preview"}),(0,r.jsxs)("div",{className:"flex-1 bg-white rounded-lg p-6 mt-2",children:[(0,r.jsx)("div",{className:"text-center font-black uppercase text-sm tracking-widest text-icp-yellow",children:null===(e=t.contents.categories.find(e=>e.id===E))||void 0===e?void 0:e.name}),(0,r.jsx)("div",{className:"pt-3 mx-auto text-center max-w-2xl",children:(0,r.jsx)("h1",{className:"text-2xl font-bold",children:D})}),(0,r.jsxs)("div",{className:"text-gray-500 pt-6 flex justify-center items-center gap-2 uppercase font-medium text-sm tracking-wider",children:[(0,r.jsx)("div",{children:"".concat(new Date().toLocaleString("en-US",{timeZone:"Asia/Manila",year:"numeric",month:"short",day:"2-digit"}))}),(0,r.jsx)("div",{children:" • "}),(0,r.jsx)("div",{children:"".concat(a.calculate(u.convert(A))," min read")})]}),(0,r.jsx)("div",{className:(0,g.cn)("prose max-w-none mt-8","prose-figcaption:text-center","prose-figure:flex prose-figure:flex-col prose-figure:items-center","prose-img:object-cover"),dangerouslySetInnerHTML:{__html:A}})]})]})]}),(0,r.jsx)("div",{className:"pt-6 flex gap-2 justify-end",children:(0,r.jsx)(n.z,{className:"px-12",type:"submit",disabled:s.value,children:s.value?(0,r.jsx)(m.Z,{className:"w-4 h-4 animate-spin"}):"Submit"})})]})}function E(){let[e]=(0,_.useStateContext)(),s=(0,a.useRouter)();return(0,r.jsxs)("div",{className:"container py-10",children:[(0,r.jsxs)(n.z,{onClick:()=>{s.push("/admin")},variant:"outline",className:"border border-gray-300",children:[(0,r.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Back"]}),e.isAdmin&&(0,r.jsx)(I,{}),!e.isAdmin&&e.isAuthor&&(0,r.jsx)(F,{})]})}}},function(e){e.O(0,[7007,6038,1928,3132,8432,2882,7009,3388,2971,4938,1744],function(){return e(e.s=72079)}),_N_E=e.O()}]);